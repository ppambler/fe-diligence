### ✍️ Tangxt ⏳ 2022-01-09 🏷️ Node.js

# 06-命令行翻译工具

结合命令行工具和 http 模块的 request 模块来做一个翻译工具

在终端输入：`fy world` -> 就会输出：`世界`

1）使用百度翻译 API

> `alt + 1`、`alt + 2` -> 切换到文件目录、切换到终端

1. 创建`fanyi`目录
2. `cd fanyi`
3. `yarn init -y`
   1. 修改版本号为`0.0.1`
4. 创建`src`目录 -> 用来放置源代码
   1. `main.ts`
5. 添加`scripts` -> `'start'： 'ts-node-dev src/main.ts'`
6. 安装`commander` -> 手否要手动安装`types`声明？
   1. 不需要，它有个`typings`目录，这里边有一个`index.d.ts`，也就是说它自带了`types`声明 -> 因此我们不需要安装这个额外工具了
7. 创建`src/cli.ts` -> 专门用来处理命令行
8. 由于在做`node`开发 -> 安装`@types/node`才会有代码提示 -> 这是开发依赖
9. 在`cli.ts`里边使用`commander`

> [Demo](https://github.com/ppambler/fe-diligence-demo/commit/3dd1627)

💡：更改`Usage`的输出情况？

![Usage](assets/img/2022-01-11-18-21-13.png)

``` js
// import * as commander from "commander";
// const program = new commander.Command();
import { Command } from "commander";
const program = new Command();
program.version("0.0.1").name("fy").usage("<english>");

// 解析参数，比如自带的 -h，和我们通过 program.version 写的 -V
// 根据解析结果，会在终端打印相应的内容
program.parse(process.argv);

```

![fy](assets/img/2022-01-11-18-23-27.png)

👇：添加功能 -> 获取输入的单词，然后到网上查询这个单词的翻译，再显示到终端

💡：获取用户输入的单词

![hello](assets/img/2022-01-11-18-30-46.png)

