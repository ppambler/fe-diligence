### âœï¸ Tangxt â³ 2022-01-09 ğŸ·ï¸ Node.js

# 06-å‘½ä»¤è¡Œç¿»è¯‘å·¥å…·

ç»“åˆå‘½ä»¤è¡Œå·¥å…·å’Œ http æ¨¡å—çš„ request æ¨¡å—æ¥åšä¸€ä¸ªç¿»è¯‘å·¥å…·

åœ¨ç»ˆç«¯è¾“å…¥ï¼š`fy world` -> å°±ä¼šè¾“å‡ºï¼š`ä¸–ç•Œ`

1ï¼‰ä½¿ç”¨ç™¾åº¦ç¿»è¯‘ API

> `alt + 1`ã€`alt + 2` -> åˆ‡æ¢åˆ°æ–‡ä»¶ç›®å½•ã€åˆ‡æ¢åˆ°ç»ˆç«¯

1. åˆ›å»º`fanyi`ç›®å½•
2. `cd fanyi`
3. `yarn init -y`
   1. ä¿®æ”¹ç‰ˆæœ¬å·ä¸º`0.0.1`
4. åˆ›å»º`src`ç›®å½• -> ç”¨æ¥æ”¾ç½®æºä»£ç 
   1. `main.ts`
5. æ·»åŠ `scripts` -> `'start'ï¼š 'ts-node-dev src/main.ts'`
6. å®‰è£…`commander` -> æ‰‹å¦è¦æ‰‹åŠ¨å®‰è£…`types`å£°æ˜ï¼Ÿ
   1. ä¸éœ€è¦ï¼Œå®ƒæœ‰ä¸ª`typings`ç›®å½•ï¼Œè¿™é‡Œè¾¹æœ‰ä¸€ä¸ª`index.d.ts`ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒè‡ªå¸¦äº†`types`å£°æ˜ -> å› æ­¤æˆ‘ä»¬ä¸éœ€è¦å®‰è£…è¿™ä¸ªé¢å¤–å·¥å…·äº†
7. åˆ›å»º`src/cli.ts` -> ä¸“é—¨ç”¨æ¥å¤„ç†å‘½ä»¤è¡Œ
8. ç”±äºåœ¨åš`node`å¼€å‘ -> å®‰è£…`@types/node`æ‰ä¼šæœ‰ä»£ç æç¤º -> è¿™æ˜¯å¼€å‘ä¾èµ–
9. åœ¨`cli.ts`é‡Œè¾¹ä½¿ç”¨`commander`

> [Demo](https://github.com/ppambler/fe-diligence-demo/commit/3dd1627)

ğŸ’¡ï¼šæ›´æ”¹`Usage`çš„è¾“å‡ºæƒ…å†µï¼Ÿ

![Usage](assets/img/2022-01-11-18-21-13.png)

``` js
// import * as commander from "commander";
// const program = new commander.Command();
import { Command } from "commander";
const program = new Command();
program.version("0.0.1").name("fy").usage("<english>");

// è§£æå‚æ•°ï¼Œæ¯”å¦‚è‡ªå¸¦çš„ -hï¼Œå’Œæˆ‘ä»¬é€šè¿‡ program.version å†™çš„ -V
// æ ¹æ®è§£æç»“æœï¼Œä¼šåœ¨ç»ˆç«¯æ‰“å°ç›¸åº”çš„å†…å®¹
program.parse(process.argv);

```

![fy](assets/img/2022-01-11-18-23-27.png)

ğŸ‘‡ï¼šæ·»åŠ åŠŸèƒ½ -> è·å–è¾“å…¥çš„å•è¯ï¼Œç„¶ååˆ°ç½‘ä¸ŠæŸ¥è¯¢è¿™ä¸ªå•è¯çš„ç¿»è¯‘ï¼Œå†æ˜¾ç¤ºåˆ°ç»ˆç«¯

ğŸ’¡ï¼šè·å–ç”¨æˆ·è¾“å…¥çš„å•è¯

![hello](assets/img/2022-01-11-18-30-46.png)

